
<div class="card">
  <h2>All Reservations</h2>
  <table class="table" *ngIf="rows().length; else empty">
    <thead><tr><th>ID</th><th>User</th><th>Book</th><th>Issue</th><th>Return</th><th>Status</th><th>Actions</th></tr></thead>
    <tbody>
      <tr *ngFor="let r of rows()">
        <td>{{ r.id }}</td><td>{{ r.users?.name }} ({{ r.users?.id }})</td><td>{{ r.books?.title }}</td><td>{{ r.issue_date }}</td><td>{{ r.return_date }}</td><td><span class="badge">{{ r.status }}</span></td>
        <td><button class="btn outline" (click)="markReturned(r.id)" *ngIf="r.status==='ACTIVE'">Mark Returned</button> <button class="btn danger" (click)="remove(r.id)">Delete</button></td>
      </tr>
    </tbody>
  </table>
  <ng-template #empty><p class="muted">No reservations.</p></ng-template>
</div>
